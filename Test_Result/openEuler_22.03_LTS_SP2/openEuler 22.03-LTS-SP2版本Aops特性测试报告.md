![openEuler ico](../../images/openEuler.png)

版权所有 © 2022  openEuler社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问[*https://creativecommons.org/licenses/by-sa/4.0/*](https://creativecommons.org/licenses/by-sa/4.0/) 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：[*https://creativecommons.org/licenses/by-sa/4.0/legalcode*](https://creativecommons.org/licenses/by-sa/4.0/legalcode)。

修订记录

| 日期        | 修订版本    | 修改描述               |     作者        |
| ---------- | ---------- | ---------------------- | -----------    |
| 2023/06/17 |   1.0.0    | A-ops测试报告           | yangshicheng/dingjiao |

关键词：Aops 漏洞管理 资产管理 智能定位 配置溯源 CICD
摘要：openEuler 22.03-LTS-SP2 版本增加新需求，按照测试策略，对A-ops项目下的新需求、继承特性接口、web页面功能、文档以及易用性测试，利用CICD门禁制作热补丁


# 1   概述
A-ops主要有五大模块功能，分别为工作台管理、资产管理、漏洞管理、智能定位、配置溯源。

## 1.1 新增特性功能
在继承现有功能的基础上，本次新增六大特性，其中包括：支持制作热补丁元数据、官网提供补丁订阅服务、CICD流水线支持热补丁、系统缺陷巡检和告警通知、系统缺陷支持热补丁修复、支持使用dnf管理热补丁

### 支持制作热补丁元数据：
- 创建热补丁updateinfo.xml
- 支持指定缺陷类型/ID/描述/严重等级/缺陷id等	
- 支持updateinfo与正式补丁包的正确性检测

### 官网提供补丁订阅服务：

- 支持补丁信息订阅  

### CICD流水线支持热补丁：

- 支持PR评论命令makehotpatch
- 安全公告包含热补丁信息
- 创建热补丁元数据updateinfo.xml
- 热补丁评审发布


### 系统缺陷巡检和告警通知：

- 支持集群巡检
- 热补丁支持告警和通知
    
### 系统缺陷支持热补丁修复：
- 支持集群修复
- 支持集群热补丁回退
- 支持集群热补丁查询

### 支持使用dnf管理热补丁
- 支持热补丁本地状态查询
- 支持热补丁修复
- 热补丁支持回退
- 热补丁支持重启自动激活

## 1.2 继承特性

继承特性包含工作台管理、资产管理、智能定位、配置溯源。


# 2   特性测试说明

本节描述被测对象的版本信息和测试的时间及测试轮次区，详细的版本信息和测试时间如下表：

| 版本名称             | 测试起始时间   | 测试结束时间   |  备注 |
| ------------------- | ------------ | ------------ |  ------ |
| openEuler 22.03-LTS-SP2 RC2  | 2023-05-25 | 2023-06-03 |   全量SIT验证    |
| openEuler 22.03-LTS-SP2 RC3  | 2023-06-07 | 2023-06-12 |   全量SIT验证    |
| openEuler 22.03-LTS-SP2 RC4  | 2022-06-15 | 2023-06-23 |   全量SIT验证    |
| openEuler 22.03-LTS-SP2 RC5  | 2022-06-26 | 2023-06-28 |   回归测试   |
| openEuler 22.03-LTS-SP2 RC6  | 2022-06-30 | 2023-06-30 |   回归测试    |



# 3   测试结论概述

##  3.1 测试整体结论

五轮测试共计执行1530个用例，覆盖特性的接口、基本功能和web页面测试。

| 测试活动    | 活动评价                                               |
| ----------| ------------------------------------------------------ |
| 接口测试   | 接口可正常请求，响应，返回内容符合预期            |
| web测试 | 页面可用性、易用性符合预期 |
| 功能测试 | 功能测试符合预期，所有页面的基本功能正常 |

    
##  3.2 约束说明

描述特性测试的硬件环境信息

| 架构    | 环境   | 配置                                 | 数量 |
|:-------|:------|:--------------------------------------|:----:|
| arm架构 | 虚拟机 | CPU核数：4<br>内存：8G<br>硬盘容量：50G | 3   |
| x86架构 | 虚拟机 | CPU核数：4<br>内存：8G<br>硬盘容量：50G | 3   |


## 3.3 遗留问题分析

### 3.3.1 遗留问题影响以及规避措施

| 问题单号| 问题类型 | 问题描述 | 问题级别 | 问题影响和规避措施 | 当前状态 |
| -------- | -------- | -------- | ------------------ | -------- | ------ |
|   I6ZCG9       |    需求       |   当前shell命令部分新增命令时,书写比较繁琐，考虑引入click包或其它可同等替代的模块重写，且命令执行结果可读性极差,考虑优化       |   次要     |         后续迭代优化           |       待办   |
|  I7HJ9R       |    需求       |   对于已修复的cve，再次修复时前端页面返回日志不直观，建议对于不同状态的cve给出不同的日志       |   次要     |         后续迭代优化           |       待办   |




### 3.3.2 问题统计

|        | 问题总数 | 严重 | 主要 | 次要 | 不重要 |
|:------:| :-----: | :---: | :---: | :---: | :-----: |
| 数目   |    21    |   0  | 15    |   6  |  0   |
| 百分比 |   100%    |  0  |  71%  |  29%  |  0   |

# 4   测试执行

##  4.1 测试执行统计数据

*本节内容根据测试用例及实际执行情况进行特性整体测试的统计，可根据第二章的测试轮次分开进行统计说明。*

| 版本名称             | 测试用例数  | 用例执行结果 | 发现问题单数 |
| :-------------------: | :---------: | :----------: | :----------: |
| openEuler 22.03-LTS-SP2 RC2 |    450     |  succeed    |     13     |
| openEuler 22.03-LTS-SP2 RC3 |    450     |  succeed    |      4    |
| openEuler 22.03-LTS-SP2 RC4 |    450     |  succeed   |      1    |
| openEuler 22.03-LTS-SP2 RC5 |    120     |  succeed   |      2    |
| openEuler 22.03-LTS-SP2 RC6 |    60      |  succeed    |      1    |

*数据项说明：*

*测试用例数－－到本测试活动结束时，所有可用测试用例数；*

*发现问题单数－－本测试活动总共发现的问题单数。由于第一轮所有需求均已转测，所以问题单数量呈递减状态。

## 4.2   后续测试建议

- 关注可靠性、安全性方面的测试点


# 5     附件

*此处可粘贴各类专项测试数据或报告*


