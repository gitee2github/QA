![avatar](../images/openEuler.png)

版权所有 © 2022  openEuler社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

| 日期 | 修订   版本 | 修改描述 | 作者 |
| ---- | ----------- | -------- | ---- |
|    2022/3/29|     V1.0  |   测试报告初版        |  曾美芳    |
|   2022/3/30   |  V2.0            |   新增第四轮测试数据       |   胡敏   |
|    2022/3/30  |         V3.0    | 根据社区意见修改描述不到位的语句         | 曾美芳     |

 关键词：  DPDK 特性 测试报告

 

摘要：在 Kunpeng920芯片板载网卡部署DPDK用户态驱动，对端通过Tesgine或Kunpeng920服务器进行发包，DPDK用户态驱动可为上层业务提供高速网络IO能力。


 

缩略语清单：

| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |
|     DPDK   | Data Plane Development Kit         |    数据平面开发套件      |
|        |          |          |

# 1     特性概述

DPDK全称为 Data Plane Development Kit，提供一套用户态库，为用户在多个平台提供一套高速处理数据报文的编程接口，为通信领域，云数据中心等网络或存储应用场景提供高性能加速。
# 2     特性测试信息

DPDK特性测试分别在Test round1/Test round2/LTS RC1/RC5四轮验证，主要针对ARM服务器进行验证。 

| 版本名称 | 测试起始时间 | 测试结束时间 |
| -------- | ------------ | ------------ |
|  OpenEuler 22.03 test round 1       | 2021-10-20             |   2021-11-05           |
|  OpenEuler 22.03 test round 2        |  2021-12-01           |    2021-12-06          |
|  OpenEuler 22.03 LTS RC1        |  2022-03-08            | 2022-03-18             |
|  OpenEuler 22.03 LTS RC5        |  2022-03-30            | 2022-03-30             |
硬件环境信息

| 硬件型号 | 硬件配置信息 | 备注 |
| -------- | ------------ | ---- |
|   TaiShan 200 (Model 2280）       | 512G 128U             | ARM服务器     |

# 3     测试结论概述

## 3.1   测试整体结论

DPDK特性，共计执行718个用例，主要覆盖了功能测试和DFX测试，对部分功能进行了24小时长时间测试，共发现问题7个，回归通过6个，遗留问题单1个，整体质量较好。

第一轮进行全量用例验证，发现4个问题。

第二轮针对新增特性“应用线程绑核”进行功能验证，发现问题2个。

第三轮进行全量验证，发现问题1个。

第四轮进行问题单回归，所有合入问题均已解决，未发现新问题。

整体功能正常，满足使用需求。

| 序号 | 特性名称 |特性质量评估 |备注|
| -------- | -------- | -------- |-------- |
|1| 支持SRIOV |    核心功能正常，满足基本使用         |正常 |
|2| 支持RSS |    核心功能正常，满足基本使用         |正常 |
|3| 支持 VLAN |    核心功能正常，满足基本使用         |正常 |
|4| 支持流表 |    核心功能正常，满足基本使用         |正常 |
|5| 支持checksum卸载 |    核心功能正常，满足基本使用         |正常 |
|6| 支持TSO、GRO卸载 |   核心功能正常，满足基本使用         |正常 |
|7|支持SIMD向量指令处理 |   核心功能正常，满足基本使用         |正常 |
|8|支持bonding |   核心功能正常，满足基本使用         |正常 |
|9| 支持dfx维护 |  核心功能正常，满足基本使用         |正常 |

## 3.2   约束说明

无约束。

## 3.3   遗留问题分析

### 3.3.1 遗留问题影响以及规避措施

无遗留问题。

| 问题单号 | 问题描述 | 问题级别 | 问题影响和规避措施 | 当前状态 |
| -------- | -------- | -------- | ------------------ | -------- |
|       1   |  自带的dpdk包里面不包含dpdk-dma dpdk-ethtool l3fwd-power测试工具，部分用例无法测试        |  次要        |   已合入RC6，无版本回归                 |    已合入，待回归      |
|          |          |          |                    |          |

### 3.3.2 问题统计

|        | 问题总数 | 严重 | 主要 | 次要 | 不重要 |
| ------ | -------- | ---- | ---- | ---- | ------ |
| 数目   |    7     |  0    |    3  |  4   |   0     |
| 百分比 |       100%   |  0%    |    42.86%  |   57.14%   |    0%    |

# 4     测试执行

## 4.1   测试执行统计数据


| 版本名称 | 测试用例数 | 用例执行结果 | 发现问题单数 |
| -------- | ---------- | ------------ | ------------ |
| OpenEuler 22.03 test round 1         |          718  |   696 PASS+22 FAIL         |       4       |
| OpenEuler 22.03 test round 2         |         36   |     33 PASS+3 FAIL         |        2      |
|OpenEuler 22.03 LTS RC1          |       676     |        675 PASS +1 FAIL     |           1  |
|OpenEuler 22.03 LTS RC5          |      6     |       6  PASS  |           0   |

备注：同一问题单对应一条或多条用例

## 4.2   后续测试建议

100G规格需要x6000等具备100G网卡设备才能进行验证（物料原因，未验证）

# 5     附件

无

 



 

 
