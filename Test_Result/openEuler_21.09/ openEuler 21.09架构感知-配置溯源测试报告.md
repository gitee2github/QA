![openEuler ico](../../images/openEuler.png)

版权所有 © 2021  openEuler社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问[*https://creativecommons.org/licenses/by-sa/4.0/*](https://creativecommons.org/licenses/by-sa/4.0/) 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：[*https://creativecommons.org/licenses/by-sa/4.0/legalcode*](https://creativecommons.org/licenses/by-sa/4.0/legalcode)。

修订记录

| 日期       | 修订版本 | 修改描述                 | 作者   |
| ---------- | -------- | ------------------------ | ------ |
| 2021/09/18 | 1.1.0    | 架构感知配置溯源测试报告 | 苑露露 |

关键词：Aops  架构感知  拓扑绘制 配置溯源

摘要：按照测试策略，对Aop项目下的架构感知 配置溯源进程功能测试，以及可靠性测试

缩略语清单：  

| 缩略语       | 英文全名     | 中文解释       |
| ------------ | ------------ | -------------- |
| gala-gopher  | gala-gopher  | 架构感知安装包 |
| gala-spider  | gala-spider  | 拓扑绘制安装包 |
| gala-ragdoll | gala-ragdoll | 配置溯源安装包 |

\***

# 1   概述

架构感知是从OS视角自动感知集群系统架构，直观的查看集群节点与节点间的通信依赖关系及拓扑指标信息，帮助业务快速创新；配置溯源实现OS配置托管服务，能够实现对OS配置的集群式管理，屏蔽不同OS类型的配置差异，实现统一的、可溯源的、预期配置可管理的可信的OS配置运维入口；

# 2   特性测试说明

本节描述被测对象的版本信息和测试的时间及测试轮次区，详细的版本信息和测试时间如下表：

| 版本名称            | 测试起始时间 | 测试结束时间 |
| ------------------- | ------------ | ------------ |
| openEuler 21.09 RC1 | 2021-08-16   | 2021-08-27   |
| openEuler 21.09 RC2 | 2021-08-30   | 2021-09-03   |
| openEuler 21.09 RC3 | 2021-09-06   | 2021-09-10   |
| openEuler 21.09 RC4 | 2021-09-13   | 2021-09-15   |
| openEuler 21.09 RC5 | 2021-09-16   | 2021-09-17   |

测试的硬件环境如下：

| 硬件型号    | 硬件配置信息                                      | 备注    |
| ----------- | ------------------------------------------------- | ------- |
| RH5288 V3   | CPU_E5-2650v3@2.30GHz*2                           | x86架构 |
| Taishan2280 | [CPU_Hi1616@2.40GHz](mailto:CPU_Hi1616@2.40GHz)*2 | arm架构 |



# 3   测试结论概述

##  3.1 测试整体结论

架构感知特性，共计执行16个用例，覆盖特性的基本功能、可靠性和安全测试。

| 测试活动   | 活动评价                                               |
| ---------- | ------------------------------------------------------ |
| 功能测试   | 功能测试符合预期，提供的第三方探针功能正常             |
| 可靠性测试 | 覆盖异常操作，启动流程异常，部署业务异常，以及升级场景 |
| 安全测试   | 验证安装包内文件权限，符合要求                         |

配置溯源特性，共计执行20个用例。覆盖特性过的基本功能、可靠性和安全测试。

| 测试活动   | 活动评价                                                |
| ---------- | ------------------------------------------------------- |
| 功能测试   | 功能测试符合预期，配置源内域 节点与配置文件管理功能正常 |
| 可靠性测试 | 覆盖异常操作，以及升级场景                              |
| 安全测试   | 验证安装包内文件权限，符合要求                          |

##  3.2 约束说明

特性可靠性暂不保证，只需保证基本功能正常

##  3.3 遗留问题分析

### 3.3.1 遗留问题影响以及规避措施

| 序号 | 问题单号 | 问题简述                                                     | 问题级别 | 影响分析                             |
| ---- | -------- | ------------------------------------------------------------ | -------- | ------------------------------------ |
| 1    |          | [配置溯源：文档描述与实际接口不一致 ](https://gitee.com/openeuler/A-Ops/issues/I46UBB?from=project-issue) | 低       | 后续可靠性变更，文档会继续修改       |
| 2    |          | [配置溯源：特性根目录为755，普通用户可直接操作文件管理配置域 ](https://gitee.com/openeuler/A-Ops/issues/I479LM?from=project-issue) | 高       | 普通用户有操作权限，可能配置域被删除 |
| 3    |          | [配置溯源：deleteDomain接口并发，执行失败 ](https://gitee.com/openeuler/A-Ops/issues/I479XH?from=project-issue) | 低       | 接口并发，前台可规避，影响较低       |
| 4    |          | [gala-spider：获取数据时如果涉及haproxy探针数据，接口会500错误 ](https://gitee.com/openeuler/A-Ops/issues/I4A0SV?from=project-issue) | 高       | 工行暂不使用，本release影响较低      |
| 5    |          | [gala-spider：手动构造tcpline.txt格式异常数据，get_entities接口会有Traceback打印 ](https://gitee.com/openeuler/A-Ops/issues/I4A51W?from=project-issue) | 低       | 中间文件用户不可见，影响较低         |

### 3.3.2 问题统计

|        | 问题总数 | 严重 | 主要 | 次要 | 不重要 |
| ------ | -------- | ---- | ---- | ---- | ------ |
| 数目   | 17       | 0    | 12   | 5    |        |
| 百分比 |          | 0    | 70%  | 30%  | 0      |



# 4   测试执行

##  4.1 测试执行统计数据

*本节内容根据测试用例及实际执行情况进行特性整体测试的统计，可根据第二章的测试轮次分开进行统计说明。*

| 版本名称            | 测试用例数 | 用例执行结果 | 发现问题单数 |
| ------------------- | ---------- | ------------ | ------------ |
| openEuler 21.09 RC3 | 36         | failed       | 12           |
| openEuler 21.09 RC4 | 36         | failed       | 5            |

##  4.2 后续测试建议

关注后续可靠性变更，针对测试

# 6   附件

