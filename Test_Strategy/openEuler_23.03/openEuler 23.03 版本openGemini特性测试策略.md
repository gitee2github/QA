![avatar](../images/openEuler.png)

版权所有 © 2022  openEuler社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

 修订记录

| 日期 | 修订版本     | 修改描述  | 作者 |
| ---- | ----------- | -------- | ---- |
| 2023-02-13 | 1.0.0 | 初稿 | openGemini |
|      |             |          |      |

关键词： openGemini、TSDB(Time Series DataBase)


摘要：openGemini是一款华为云开源的云原生分布式时序数据库，具备高性能、高扩展、高并发等优势。主要面向物联网和运维监控场景，提供海量时序数据库处理和分析的开源解决方案，openGemini支持单机和集群，部署形式多样，可边缘、可云、可物理机部署，支持主流开发语言，二进制运行，无第三方组件依赖，带有260+项系统运行指标监控，运维简单。


缩略语清单：

| 缩略语 | 英文全名                | 中文解释        |
| ------ | ----------------------- | --------------- |
| RPM    | Red-Hat Package Manager | RPM软件包管理器 |
| SPEC   | Specification file      | 配置规范文件    |
| TSDB   | Time Series DataBase    | 时序数据库      |


# 特性描述
<!-- 主要介绍特性实现的背景、功能以及作用 -->

## 需求清单
|no|feature|status|sig|owner|发布方式|涉及软件包列表|
|:----|:---|:---|:--|:----|:----|:----|
| 1 | 新增openGemini时序数据库 | testing | DB | @openGemini | ISO | [openGemini](https://gitee.com/src-openeuler/openGemini) |
|     |    |    |   |     |     |     |

## 风险项
<!-- 主要描述特性已知风险项 -->

- 需要安装部分软件依赖。

- 需要增加open files配置量

# 特性分层策略
## 总体测试策略
<!-- 主要描述特性的整体测试策略，主要开展哪些测试(接口/功能/场景/专项) -->

- 测试目标：openGemini是否能成功部署，业务功能是否正常使用，测试用例能否通过
- 时间进度：待评估
- 风险评估：无
- 重点事项：测试部署功能，业务功能正常，测试用例是否通过

## 特性测试约束

<!-- 主要描述特性测试的约束条件 -->

需要在openEuler 23.03 系统上进行测试； 

## 接口测试
<!-- 主要描述接口级测试策略及测试设计思路 -->

| 接口描述 | 设计思路 | 测试重点 | 备注 |
| ------- | ------- | ------- | ---- |
|         |         |         |      |

## 功能测试

<!-- 主要描述接口级测试策略及测试设计思路 -->

| 功能描述 | 设计思路                                                 | 测试重点                                     | 备注 |
| -------- | -------------------------------------------------------- | -------------------------------------------- | ---- |
| 部署功能 | 执行安装部署到指定目录（单机部署、分布式部署、容器部署） | 是否成功（单机、分部署、容器）部署到指定目录 |      |
| 扩容功能 | 分布式部署执行openGemini扩容节点（扩容单节点、多节点）   | 是否成功（单节点、多节点）扩容               |      |
| 业务功能 | 业务功能：DDL、DML(Insert/Update)、DQL功能正常           | 测试业务功能是否正常                         |      |
|          |                                                          |                                              |      |

## 场景测试

<!-- 主要描述对特性使用的主要场景的测试策略及测试思路 -->

| 场景描述 | 设计思路 | 测试重点 | 备注 |
| ------- | ------- | ------- | ---- |
| SRE业务场景 | 构造场景数据，结合真实业务场景查询语句测试 | 业务场景查询正确 |      |

## 专项测试
<!-- 主要描述其他专项测试,如安全测试 可靠性、韧性测试 性能测试 兼容性测试等 -->

| 专项测试类型 | 专项测试描述 | 测试预期结果 | 备注 |
| ----------- | ----------- | ----------- | ---- |
| 可靠性测试 | 进程、容器、网络故障 | 节点故障后不影响业务且可恢复 |      |
| 长稳测试 | 分布式、单机长时间业务DDL、DML(Insert/Update)和DQL | 执行7天以上业务和环境正常 |      |
| 性能测试 | 不同规格单节点性能测试 | 性能达标 | |

## 特性测试环境描述
<!-- 主要描述执行测试的硬件信息 -->

| 硬件型号 | 硬件配置信息 | 备注 |
| -------- | ------------ | ------------|
|  虚拟机     |  8U16G，dist100G        | x86     |
|  虚拟机   |  8U16G，dist100G        | arm64     |

## 测试计划
<!-- 测试执行策略主要描述该轮次执行的分层策略中的测试项 -->

| Stange name   | Begin time | End time   | Days | 测试执行策略                   | 备注   |
| :------------ | :--------- | :--------- | ---- | ----------------------------- | ------ |
| round1 | 2023/3/3 | 2023/3/10 | 8 | 长稳测试 | |
| round2 | 2023/3/13 | 2023/3/20 | 8 | 长稳测试 & 回归测试 | |

## 入口标准
1.转测版本可以在openEuler 23.03 上成功适配

2.具备性能优势和业务功能完备

## 出口标准
1.策略规划的测试活动涉及测试用例100%执行完毕  

2.版本无严重问题遗留，其他问题有规避措施

# 附件