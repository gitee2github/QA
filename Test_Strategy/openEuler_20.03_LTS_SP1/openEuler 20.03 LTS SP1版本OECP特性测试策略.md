![openEuler ico](../../images/openEuler.png)

版权所有 © 2022 openEuler社区  
您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA4.0”)的约束。为了方便用户理解，您可以通过访问<https://creativecommons.org/licenses/by-sa/4.0/>了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA4.0的完整协议内容您可以访问如下网址获取：<https://creativecommons.org/licenses/by-sa/4.0/legalcode>。

修订记录

| 日期      | 修订版本 |特性名| 修改描述 | 作者         |
| --------- | -------- | ---- | -------- | ------------ |
| 2022-07-21| 1.0      |OECP  | 初稿     | hanson_fang  |

Keywords 关键词：

openEuler LTS SP1 OECP 测试策略

摘要：

按照测试要求，使用OECP工具对不同的两个iso镜像进行比较，包括工具的安装使用、iso比较、比较结果的正确性验证等主要功能进行测试。

缩略语清单：

| 缩略语 | 英文全名                             | 中文解释    |
|--------|--------------------------------------|-------------|
| LTS    | Long time support                    | 长时间维护  |
| OS     | Operation System                     | 操作系统    |
| CVE    | Common Vulnerabilities and Exposures | CVE安全补丁 |


# 概述

本测试策略为OECP在openEuler20.03-LTS-SP1操作系统上对各种不同的iso进行比较的测试策略，目的在于验证工具可用性，以及比较结果的正确性等。

## 版本背景

OECP 1.0比较同一架构任意两个iso中的rpm包是否相等，以及一些相关属性是否正确。

## 测试范围

### 工具来源
https://gitee.com/openeuler/oecp.git

### 工具测试
|参数项|是否指定|成功与否|执行结果目录及文件检查|
|-----|--------|--------|----------|
|-v, --version|是/否|成功|正确|
|-d, --debuginfo|是/否|成功|正确|
|-n, --parallel|是/否|成功|正确|
|-w, --work-dir|是/否|成功|正确|
|-p, --plan|是/否|成功|正确|
|-c, --category|是/否|成功|正确|
|-f, --format|是/否|成功|正确|
|-o, --output|是/否|成功|正确|
|-b, --baseline|是/否|成功|正确|

### 被测的iso

|iso_A           |iso_B     |架构      |指定plan生成结果|CMP_RESULT校验|CMP_TYPE校验|
|----------------|----------|----------|---------------|-------------|------------|
|Anolis 8.2      |CentOs 8.2|x86_64    |成功|正确|正确|
|CentOs 8.2      |Anolis 8.2|x86_64    |成功|正确|正确|
|openEuler SP1   |CentOs 8.4|x86_64    |成功|正确|正确|
|Fedora 36       |RedHat 8.6|x86_64    |成功|正确|正确|
|openEuler SP1|OpenSUSE 15.4|aarch64   |成功|正确|正确|
|openEuler SP1   |CentOs 8.4|aarch64   |成功|正确|正确|
|Anolis 8.4      |CentOs 8.4|aarch64   |成功|正确|正确|

# 风险

| 问题类型       | 问题描述                           | 问题等级 | 应对措施 | 责任人  | 状态    |
| -------------- | ---------------------------------- | -------- | -------- | ------- | ------- |
| 工具可用性     | 磁盘满任务没有停止，并行无效       |主要      |已提单    |xielihao|解决中|
| 结果正确性     | 比较的结果中内容的正确性           |主要      |已提单    |xielihao|解决中|
| 工具稳定性     | 多次执行和大文件比较是否成功且正确 |主要      |已提单    |xielihao|解决中|

# 测试分层策略

| 模块         | 测试分层策略                                                  |
|------------------|--------------------------------------------------------------------|
| 工具的比较功能   | 对工具的安装、基本功能、兼容性及稳定性的测试                       |
| 比较结果的正确性 | 验证比较结果中每项内容的正确性，文件名/属性                        |

# 测试分析设计策略

### 测试计划

| Stange name  | Begin time | End time   |
| :----------- | :--------- | :--------- |
| OECP 1.0     | 2022-07-09 | 2022-07-12 |

### 测试重点
1. 重点关注比较功能能否使用，包括结果快速生成，结果稳定
2. 比较生成的结果文件中结果项正确，关联的属性也是正确的

# 测试执行策略
1.按照测试用例进行功能、兼容性、稳定性的所有测试项的测试; 
2.对工具生成的每一个结果进行results和type列内容的检查; 
3.检查结果中的rpm数量和iso中实际rpm数量是否一致; 
4.结果中type列为files的rpm是否有文件目录; 
5.重点测试重点关注的内容，保证工具的可信。

# 附件

无
